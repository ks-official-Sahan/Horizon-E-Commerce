SELECT DISTINCT `date` FROM `chat` INNER JOIN (SELECT CASE WHEN `to`='wjshashini@gmail.com' THEN `from` WHEN `from`='wjshashini@gmail.com' THEN `to`END AS other, `datetime` AS dt FROM `chat` WHERE `from`='ks.official.sahan@gmail.com' OR `to`='ks.official.sahan@gmail.com') AS alias ON (`from`='wjshashini@gmail.com' AND `to`=other OR `to`='wjshashini@gmail.com' AND `from`=other) AND `datetime`=dt;